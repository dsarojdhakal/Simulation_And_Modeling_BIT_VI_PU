Unit 4: Random Numbers

    4.1 Random Numbers

        - Random numbers are numbers that appear in no particular order and can take any value in a range.
        - They are very useful in simulation to represent events that happen by chance, 
            like arrival times, service times, or other random choices.
        - Using random numbers helps us create simulation models that behave like real-world systems.

        - There are two types of random numebers:
            - True random number
            - Pseudo random number

        - True random numbers come from natural processes that are unpredictable, like radioactive decay or thermal noise.
        - These numbers are independent, non-repeating, and evenly spread over the range.
        - True random numbers are hard to generate with computers, so they are mostly used in experiments or special hardware.

        - Computers usually use pseudo random numbers:
            - These are created by formulas or algorithms.
            - They look random but can be repeated if we start with the same seed.
            - They are easy to generate and widely used in simulations.

        - Random numbers are usually written as decimals between 0 and 1.
          Example: 0.2314, 0.7853, 0.9921


    4.2 Random Number Tables

        - Random number tables are lists of numbers that seem random and are ready to use in simulations.
        - They help us simulate random events without having to create numbers ourselves.
        - Each number in the table has an equal chance of being picked.
        - Numbers are usually shown as decimals between 0 and 1 or as integers in a certain range.
        - Using a table makes it easier to plan and run simulations step by step.
        - They are especially helpful when we need many random numbers for calculations.
        - Random numbers from the table can be adjusted to any range we need.
        - They are often used in schools, training, or small projects to show how random events work.

        Advantages:
            - Easy to use, especially for manual simulations.
            - Saves time because we don’t need to make numbers every time.
            - Useful for learning and understanding how random events work.

        How to Use a Random Number Table:
            1. Decide how many random numbers you need.
            2. Pick numbers from the table, either in order or by skipping rows.
            3. Change the numbers to match the range you need.

               Example: If the table gives 0.723 and we want a number between 2 and 6,
                   Random Value = 2 + (6 - 2) × 0.723 = 4.892



    4.3 Pseudo Random Numbers

        - Pseudo random numbers are numbers generated by computers using mathematical formulas or algorithms. 
        - They are not truly random, but they appear random and can simulate real-world uncertainty in systems. 
        - The sequence of pseudo random numbers can be repeated if we start with the same initial value, called a seed. 
        - They are easy to generate, fast, and widely used in computer-based simulations.

        - The main Concept is to create numbers that behave like random numbers using deterministic methods. 
        - Each number in the sequence depends on the previous number and the chosen formula. 
        - They are suitable for modeling random events like arrival times, service times, or system failures.

        - Mostly used method to generate pseudo random numbers:
            Linear Congruential Generator (LCG):
                Rn+1 = (a × Rn + c) mod m
            Where:
                
        - Properties of good pseudo random numbers:
            - Numbers are evenly spread over the range(Uniformity).
            - Numbers do not show patterns or correlations(Independence).
            - The sequence repeats only after a large number of values(Long period).

        - Advantages:
            - Easy to generate large sequences of numbers.
            - Can reproduce results using the same seed for testing.
            - Works well for computer simulations where true random numbers are hard to generate.




    4.4 Generation of Random Numbers

        - Random numbers can be generated using different methods depending on whether we need true random numbers or pseudo random numbers.
        - True random numbers come from unpredictable natural processes, while pseudo random numbers are generated by computer algorithms using a seed.

        - methods for generating pseudo random numbers:

            1. Linear Congruential Generator (LCG):
                - Simple and widely used for simulations.
                - Formula: 
                    
                    Rn+1 = (a × Rn + c) mod m

                    Rn = current random number
                    Rn+1 = next random number
                    a = multiplier
                    c = increment
                    m = modulus (range of numbers)
                    R0 = seed (starting number)

                    Example: If a = 5, c = 3, m = 16, and R0 = 7, we can calculate the next numbers using this formula.


             -> (*) Rule of Normalization for LCG
    
                    1.Raw numbers from LCG
                    
                        - The LCG generates numbers Rn in the range:
                            0 ≤ Rn < m
                        - Where m is the modulus.

                    2. Normalize to [0,1]
                    
                        (*)Formula:R_normalized = Rn / (m - 1)
                        
                        - Why m - 1?  
                            Because the maximum value generated is m−1, 
                            so dividing by m−1 ensures the largest number becomes exactly 1.  
                        - After this, every number is in the range [0,1].

                    3. Scale to any desired range [a,b]


                        (Formula: Y = a + (b - a) × R_normalized)


                        Example: If a = 50 and b = 80, then  Y = 50 + 30 × R_normalized

                    Example: Suppose LCG gives Rn = 14, modulus m = 18  

                        1. Normalize:
                            R_normalized = 14 / (18 - 1) = 14 / 17 ≈ 0.8235

                        2. Scale to [50,80]:
                            Y = 50 + 30 × 0.8235 ≈ 74.71

                
            2. Mid-Square Method:
                - Take a number (seed), square it, and extract the middle digits as the next random number.
                - It is simple but works best with properly chosen seeds and number of digits.
                - Example: 
                    Seed = 1234, 
                    Square = 1522756, 
                    Middle digits = 227 → next random number
                - Simple but works best with properly chosen seeds and number of digits.

        - Steps to generate random numbers:
            1. Choose a method (LCG, mid-square, or others).
            2. Select a starting number (seed).
            3. Apply the formula or algorithm to get the next number.
            4. Repeat to generate as many numbers as needed.
            5. If needed, scale the numbers to fit the required range.



    4.5 MID-SQUARE RANDOM NUMBER GENERATOR

        - The Mid-Square Method is a simple mathematical approach to generate pseudo-random numbers.
        - It was proposed by John von Neumann (1949).
        - The idea is to start with an initial number called a seed, square it, and extract the 
            middle digits as the next random number.
        - The new number becomes the next seed, and the process repeats to produce a sequence of random numbers.

        - Simple and easy to understand.
        - Demonstrates the concept of pseudo-random number generation.
        - Works well for teaching, learning, and small-scale simulations.
        - Not suitable for large-scale or cryptographic applications.
        - The period (sequence length before repetition) depends on the seed.
        - Poorly chosen seeds can lead to quick repetition or zero values.

        Algorithm (Steps):
        1. Choose a starting number (seed) with a fixed number of digits (N).
        2. Square the seed to get a number of up to 2N digits.
        3. If the square has fewer than 2N digits, pad it with leading zeros.
        4. Extract the middle N digits — these become the next random number.
        5. Use this number as the new seed.
        6. Repeat steps 2–5 to generate more random numbers.

            Example 1:Generate 6 random numbers from Seed = 8765  (N = 4)

                1. Square the seed:
                    8765^2 = 76899025

                2. Pad with zeros to make 8 digits (2N = 8):
                    76899025   ← already 8 digits, so no padding needed

                3. Extract the middle 4 digits:
                    8990

                4. Next seed = 8990

                (Repeat with 8990 to continue the sequence)



       -> (*)Generating Random Numbers in a Range Using Mid-Square Method

            1 Generate a pseudo-random number
            
            - Use the Mid-Square Method: seed → square → middle digits → next seed.
            - Let’s say your middle digits produce a number X.

            2 Normalize to [0,1]
            
                Formula:   R = X / (10^N - 1)
                
                - N = number of digits in the seed.
                - Example: N = 4 → maximum 4-digit number = 9999
                - If X = 2275 → R = 2275 / 9999 ≈ 0.2275
                - Now R is a value between 0 and 1.

            3 Scale to desired range [a, b]
            
                Formula: Y = a + (b - a) * R

                Example: a = 100, b = 150
                Y = 100 + (150 − 100) × 0.2275
                Y = 100 + 50 × 0.2275 ≈ 111.38

            So random number in the range 100–150 is ≈ 111




        Example 2: Generate 6 random numbers from Seed = 8765  (N = 4)
            
            Seed = 8765  (N = 4)

            Iteration 1:
                1. Square the seed:
                    8765^2 = 76899025
                2. Extract the middle 4 digits:
                    8990
                3. Next seed = 8990

            Iteration 2:
                1. Square the seed:
                    8990^2 = 80820100
                2. Extract the middle 4 digits:
                    8201
                3. Next seed = 8201

            Iteration 3:
                1. Square the seed:
                    8201^2 = 67256401
                2. Extract the middle 4 digits:
                    2564
                3. Next seed = 2564

            Iteration 4:
                1. Square the seed:
                    2564^2 = 6564096  → pad to 8 digits: 06564096
                2. Extract the middle 4 digits:
                    5640
                3. Next seed = 5640

            Iteration 5:
                1. Square the seed:
                    5640^2 = 31809600
                2. Extract the middle 4 digits:
                    8096
                3. Next seed = 8096

            Iteration 6:
                1. Square the seed:
                    8096^2 = 65540116
                2. Extract the middle 4 digits:
                    5401
                3. Next seed = 5401

            (Repeat the process to continue the sequence)



        Example: 3, Using seed as 4567 calculate 6 random numbers between 100 and 200 using mid-square method.

        Iteration 1:
            1. Square the seed:
                4567^2 = 20854089
            2. Extract the middle 4 digits:
                8540
            3. Normalize to [0,1]:
                R = 8540 / 9999 ≈ 0.8541
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.8541 ≈ 185.41
            5. Next seed = 8540

        Iteration 2:
            1. Square the seed:
                8540^2 = 72931600
            2. Extract the middle 4 digits:
                9316
            3. Normalize to [0,1]:
                R = 9316 / 9999 ≈ 0.9317
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.9317 ≈ 193.17
            5. Next seed = 9316

        Iteration 3:
            1. Square the seed:
                9316^2 = 86888896
            2. Extract the middle 4 digits:
                8888
            3. Normalize to [0,1]:
                R = 8888 / 9999 ≈ 0.8889
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.8889 ≈ 188.89
            5. Next seed = 8888

        Iteration 4:
            1. Square the seed:
                8888^2 = 79012344
            2. Extract the middle 4 digits:
                0123
            3. Normalize to [0,1]:
                R = 123 / 9999 ≈ 0.0123
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.0123 ≈ 101.23
            5. Next seed = 0123

        Iteration 5:
            1. Square the seed:
                0123^2 = 15129 → pad to 8 digits: 00015129
            2. Extract the middle 4 digits:
                0151
            3. Normalize to [0,1]:
                R = 151 / 9999 ≈ 0.0151
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.0151 ≈ 101.51
            5. Next seed = 0151

        Iteration 6:
            1. Square the seed:
                0151^2 = 22801 → pad to 8 digits: 00022801
            2. Extract the middle 4 digits:
                0228
            3. Normalize to [0,1]:
                R = 228 / 9999 ≈ 0.0228
            4. Scale to [100,200]:
                Y = 100 + 100 * 0.0228 ≈ 102.28
            5. Next seed = 0228

        Final 6 Random Numbers in [100,200]: 185.41, 193.17, 188.89, 101.23, 101.51, 102.28


            

    4.6 Qualities of an Efficient Random Number Generator

        - A good random number generator should produce numbers that behave like true random numbers. 
        - It ensures simulations give realistic and reliable results.
 
        - Qualities of an Efficient Random Number Generator are:

            1. Uniformity
                - Numbers are spread evenly across the range.
                - No number appears more often than others.

            2. Independence
                - Each number is not affected by previous numbers.
                - No patterns should appear.

            3. Reproducibility
                - Using the same seed gives the same sequence of numbers.
                - Useful for testing and checking simulations.

            4. Long Period
                - The sequence repeats only after a very large number of numbers.
                - Prevents numbers from repeating too soon.

            5. Efficiency
                - Numbers are generated quickly.
                - Uses less memory and processing power.

            6. Simplicity
                - Easy to implement and understand.
                - Good for learning and small simulations.


    4.7 Testing Random Numbers for Randomness

        - In simulations and computer models, we often use random numbers to represent real-world uncertainty.  
        But the numbers generated by computers are not truly random; they are called pseudo-random numbers, 
        because they are made using mathematical formulas.  
        - Even though they look random, there can sometimes be hidden patterns or uneven distribution.  
        That’s why we need to test them — to check if they behave like real random numbers.

        Purpose of Testing Random Numbers:
        1. To make sure the generated numbers behave like real random values.
        2. To confirm that there are no patterns or predictable sequences.
        3. To verify that all numbers are fairly spread across the possible range.
        4. To ensure the random numbers give correct and unbiased simulation results.
        5. To check if the random number generator is working properly.

        Why We Need to Test Random Numbers:
        - Computers use fixed formulas, so patterns may appear after many numbers.
        - If randomness is weak, simulation results can become wrong or biased.
        - In areas like banking or security, poor randomness can cause serious errors.
        - Testing ensures that the generated numbers are fair, reliable, and truly random-like.

        Categories of Randomness Tests:
        There are mainly two types of tests used to check randomness:

            1. Tests for Uniformity:
            - These tests check whether numbers are evenly spread across a given range.
            - Each part of the range (like 0.0–0.1, 0.1–0.2, etc.) should get nearly the same number of random values.
            - Common examples are the Chi-Square Test and Kolmogorov–Smirnov Test.

            2. Tests for Independence:
            - These tests check if one number is independent of the next one.
            - There should be no visible pattern or relationship between numbers.
            - Common examples are Runs Test, Autocorrelation Test, and Serial Test.

        Types of  Randomness Tests:
            1. Uniformity Test – Checks if random numbers are evenly spread over the interval 0 to 1.
            2. Chi-Square Test – Compares observed frequencies with expected frequencies.
            3. Runs Test – Checks whether numbers come in random order without any pattern.
            4. Autocorrelation Test 
            6. Gap Test 
            7. Poker Test 


    4.8 Uniformity Test

        - The Uniformity Test is used to check whether random numbers are evenly spread over a given range, usually between 0 and 1.
        - It helps to verify that every part of the range has almost the same chance of getting numbers.
        - In other words, all intervals should contain approximately equal numbers of random values.
        - This test is important because simulation results depend on how well random numbers represent real randomness.
        - It ensures that random numbers are not biased toward a specific range.

        Algorithm:
            1. Generate a large set of random numbers (for example, 100 or 1000 numbers).
            2. Divide the total range (0–1) into equal intervals, such as 0.0–0.1, 0.1–0.2, 0.2–0.3, etc.
            3. Count how many random numbers fall into each interval (Observed frequency).
            4. Calculate the Expected frequency using:
                    Ei = N / k
                where,
                    N = total number of random numbers  
                    k = number of intervals
            5. Compare Observed and Expected frequencies.
                If they are nearly equal, the numbers are said to be uniformly distributed.

        Example:
            Suppose we have 10 random numbers:
            0.12, 0.17, 0.23, 0.31, 0.45, 0.47, 0.56, 0.69, 0.83, 0.91

            Divide into 5 equal intervals:
            (0.0–0.2), (0.2–0.4), (0.4–0.6), (0.6–0.8), (0.8–1.0)

            Observed frequencies:
            (0.0–0.2) → 2  
            (0.2–0.4) → 2  
            (0.4–0.6) → 2  
            (0.6–0.8) → 2  
            (0.8–1.0) → 2

            Expected frequency:
            Ei = N / k = 10 / 5 = 2 for each interval

            All observed frequencies are equal to expected frequencies.
            Hence, the numbers are uniformly distributed.




    4.9 Chi-Square Test

        - The Chi-Square Test is a statistical method used to check whether a set of random numbers follows a uniform distribution.  
        - It compares how many numbers actually fall into each interval (observed) 
            with how many were expected in a truly random case.
        - The Chi-Square Test helps verify that random numbers are truly uniform.  
        - If the test passes, it means the random number generator is performing well.


        Algorithm/How It Works:
            1. Divide the range of numbers (0 to 1) into equal intervals.  
            2. Count how many numbers fall into each interval (Observed frequency = Oi).  
            3. Calculate the expected frequency (Ei) for each interval:  

                Ei = N / k  
                where N = total numbers, k = number of intervals.  

            4. Apply the formula:  

                χ² = Σ((Oi - Ei)² / Ei)

                This formula adds up the squared differences between observed and expected counts.

            5. Compare the calculated χ² value with the table value from the Chi-Square distribution using (k - 1) degrees of freedom.  
                - If calculated χ² ≤ table χ² → numbers are uniform.  
                - If calculated χ² > table χ² → numbers are not uniform.


    4.11 Poker Test

        The Poker Test is a statistical test used to check whether a sequence of random numbers is truly random and independent. 
        It is based on the frequency with which certain digit patterns occur within the numbers, similar to patterns found in a poker game. 
        For example, a number may have: 
            all different digits, 
            one pair, 
            two pairs, or 
            three of the same digits.

        - The main idea of the Poker Test is to see if the digits in random numbers appear in expected proportions.  
        - If some patterns appear too often or too rarely, it means the numbers are not random.  
        - The test uses the Chi-Square method to compare observed and expected frequencies of each pattern.  
        - It helps to verify both the independence and randomness of generated numbers.

        Steps/ methods to solve Pokers Test:
            1. Divide the random numbers into equal-sized groups (for example, groups of 3 or 4 digits).  
            2. Identify the pattern of digits in each group (such as all different, one pair, two pairs, etc.).  
            3. Count how many numbers belong to each pattern — this gives the observed frequency (Oi).  
            4. Calculate the expected frequency (Ei) using:  
                    Ei = N × Pi  
                where,  
                    N = total numbers tested  
                    Pi = theoretical probability of that pattern  
            5. Compute Chi-Square value using:  
                    χ² = Σ ((Oi - Ei)² / Ei)  
            6. Compare χ² with the critical value from the Chi-Square table.  
                     If χ² < χ²(table): accept that the numbers are random.  
                     If χ² > χ²(table): reject randomness (numbers are dependent or biased).  

        Algorithm:
            1. Start  
            2. Read the total number of random numbers (N).  
            3. Divide the sequence into groups (like 3-digit or 4-digit numbers).  
            4. For each group, determine its pattern:  
                – All digits different  
                – One pair  
                – Two pairs  
                – Three of a kind  
                – Four of a kind  
            5. Count how many numbers fall in each category (Oi).  
            6. Calculate the theoretical probability (Pi) for each pattern.  
            7. Find expected frequency (Ei = N × Pi).  
            8. Compute the Chi-Square value using:  
                χ² = Σ ((Oi - Ei)² / Ei)  
            9. Compare χ² with the table value at a chosen significance level (like 0.05).  
            10. If χ² is less than table value, accept randomness; otherwise, reject it.  
            11. Stop.  



        Example 1: Calculate probabilities and expected frequencies for Poker Test for Three-Digit Numbers

            Expected Frequency = Total Number of Trials × Probability of the Outcome

            All Different Digits:
                Choose 3 different digits from 10 (0-9):C(10, 3)
                Arrange 3 digits: 3!
                Total: C(10, 3) × 3! = 120 × 6 = 720
                Total number of possible three-digit combinations: 10^3 = 1000
                Probability: 720 / 1000 = 0.72
                Expected frequency: 0.72 × 1000 = 720

            One Pair:
                Choose 1 digit for the pair from 10: C(10, 1)
                Choose 1 more digit from remaining 9: C(9, 1)
                Arrange digits: 3! / (2! × 1!) = 3
                Total: C(10, 1) × C(9, 1) × 3 = 10 × 9 × 3 = 270
                Probability: 270 / 1000 = 0.27
                Expected frequency: 0.27 × 1000 = 270

            Three of a Kind:
                Choose 1 digit for all three from 10: C(10, 1) = 10
                Total combinations: 10
                Probability: 10 / 1000 = 0.01
                Expected frequency: 0.01 × 1000 = 10


        Example 2: Calculate probabilities and expected frequencies for Poker Test for Four-Digit Numbers

            Expected Frequency = Total Number of Trials × Probability of the Outcome

            All Different Digits:
                - Choose 4 different digits from 10 (0-9): C(10, 4)
                - Arrange 4 digits: 4!
                - Total combinations: C(10, 4) × 4! = 210 × 24 = 5040
                - Total number of possible four-digit combinations: 10^4 = 10000
                - Probability: 5040 / 10000 = 0.504
                - Expected frequency: 0.504 × 10000 = 5040

            One Pair:
                - Choose 1 digit for the pair from 10: C(10, 1)
                - Choose 2 remaining digits from 9: C(9, 2)
                - Arrange digits: 4! / (2! × 1! × 1!) = 12
                - Total combinations: C(10, 1) × C(9, 2) × 12 = 10 × 36 × 12 = 4320
                - Probability: 4320 / 10000 = 0.432
                - Expected frequency: 0.432 × 10000 = 4320

            Two Pairs:
                - Choose 2 digits for the pairs from 10: C(10, 2)
                - Arrange pairs: 4! / (2! × 2!) = 6
                - Total combinations: C(10, 2) × 6 = 45 × 6 = 270
                - Probability: 270 / 10000 = 0.027
                - Expected frequency: 0.027 × 10000 = 270

            Three of a Kind:
                - Choose 1 digit for three-of-a-kind from 10: C(10, 1)
                - Choose 1 remaining digit from 9: C(9, 1)
                - Arrange digits: 4! / (3! × 1!) = 4
                - Total combinations: 10 × 9 × 4 = 360
                - Probability: 360 / 10000 = 0.036
                - Expected frequency: 0.036 × 10000 = 360

            Four of a Kind:
                - Choose 1 digit for all four from 10: C(10, 1) = 10
                - Probability: 10 / 10000 = 0.001
                - Expected frequency: 0.001 × 10000 = 10

                

    -->(**)Poker Test Probabilities for Random Numbers

            2-Digit Numbers:
                All Different Digits: Probability = 0.9
                Both Digits Same: Probability = 0.1

            3-Digit Numbers:
                All Different Digits: Probability = 0.72
                One Pair: Probability = 0.27
                Three of a Kind: Probability = 0.01

            4-Digit Numbers:
                All Different Digits: Probability = 0.504
                One Pair: Probability = 0.432
                Two Pairs: Probability = 0.027
                Three of a Kind: Probability = 0.036
                Four of a Kind: Probability = 0.001

            5-Digit Numbers:
                All Different Digits: Probability = 0.3024
                One Pair: Probability = 0.504
                Two Pairs: Probability = 0.108
                Three of a Kind: Probability = 0.072
                Full House (Three + Pair): Probability = 0.009
                Four of a Kind: Probability = 0.0045
                Five of a Kind: Probability = 0.0001

            6-Digit Numbers:
                All Different Digits: Probability = 0.1512
                One Pair: Probability = 0.324
                Two Pairs: Probability = 0.216
                Three of a Kind: Probability = 0.072
                Full House (Three + Pair): Probability = 0.036
                Four of a Kind: Probability = 0.009
                Five of a Kind: Probability = 0.001
                Six of a Kind: Probability = 0.00001

